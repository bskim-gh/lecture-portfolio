# MCP HTTP ì„œë²„ ì˜ˆì œ (Node.js)

Node.jsì™€ Expressë¥¼ ì‚¬ìš©í•œ **HTTP ë°©ì‹ MCP ì„œë²„**ì…ë‹ˆë‹¤.

## ğŸ“¦ ì„¤ì¹˜

### 1. Node.js ì„¤ì¹˜ í™•ì¸

```bash
node --version  # v18 ì´ìƒ
npm --version
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜

```bash
npm install
```

**ì„¤ì¹˜ë˜ëŠ” íŒ¨í‚¤ì§€:**
- `express`: HTTP ì„œë²„
- `cors`: CORS ì²˜ë¦¬
- `nodemon`: ìë™ ì¬ì‹œì‘ (ê°œë°œìš©)

## ğŸš€ ì„œë²„ ì‹¤í–‰

### ë°©ë²• 1: ì¼ë°˜ ì‹¤í–‰

```bash
npm start
```

ë˜ëŠ”

```bash
node server_http.js
```

**ì„œë²„ ì‹¤í–‰ í™•ì¸:**
```
============================================================
  MCP HTTP Server
============================================================
Server: mcp-http-server v1.0.0
Status: Running
URL: http://localhost:3000
Tools: 6ê°œ ë“±ë¡ë¨
============================================================

Cursor ì„¤ì •ì— ë‹¤ìŒ URLì„ ì…ë ¥í•˜ì„¸ìš”:
  http://localhost:3000
```

### ë°©ë²• 2: ê°œë°œ ëª¨ë“œ (ìë™ ì¬ì‹œì‘)

```bash
npm run dev
```

ì½”ë“œë¥¼ ìˆ˜ì •í•˜ë©´ ì„œë²„ê°€ ìë™ìœ¼ë¡œ ì¬ì‹œì‘ë©ë‹ˆë‹¤.

### í¬íŠ¸ ë³€ê²½

```bash
# Windows
set PORT=8080 && npm start

# Mac/Linux
PORT=8080 npm start
```

## ğŸ”§ Cursor ì—°ë™ ê°€ì´ë“œ

### â­ HTTP ë°©ì‹ ì—°ë™ (ê¶Œì¥)

#### 1ë‹¨ê³„: ë¡œì»¬ì—ì„œ HTTP ì„œë²„ ì‹¤í–‰

**í„°ë¯¸ë„ (CMD/PowerShell):**
```bash
# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ë¡œ ì´ë™
cd C:/Users/82104/Desktop/lecture/lecture-portfolio/Python_MCP/ì‹¤ìŠµ03_NodeJSí†µí•©ë„êµ¬

# ì˜ì¡´ì„± ì„¤ì¹˜ (ìµœì´ˆ 1íšŒ)
npm install

# HTTP ì„œë²„ ì‹¤í–‰
npm start
```

**ì„œë²„ ì‹¤í–‰ í™•ì¸:**
```
============================================================
  MCP HTTP Server
============================================================
Server: mcp-http-server v1.0.0
Status: Running
URL: http://localhost:3000
Tools: 6ê°œ ë“±ë¡ë¨
============================================================

Cursor ì„¤ì •ì— ë‹¤ìŒ URLì„ ì…ë ¥í•˜ì„¸ìš”:
  http://localhost:3000
```

**âœ… ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸:**
- http://localhost:3000 ì ‘ì†
- ì„œë²„ ì •ë³´ JSON ì¶œë ¥ í™•ì¸

#### 2ë‹¨ê³„: Cursor MCP ì„¤ì •

**Cursorì—ì„œ** (`Ctrl+Shift+P` â†’ "MCP Settings" ê²€ìƒ‰):

```json
{
  "mcpServers": {
    "nodejs-http-server": {
      "url": "http://localhost:3000",
      "transport": "http"
    }
  }
}
```

**âš ï¸ ì¤‘ìš”:**
- âœ… `url` í•„ë“œ ì‚¬ìš© (command/args ì•„ë‹˜!)
- âœ… ì„œë²„ë¥¼ ë¨¼ì € ë¡œì»¬ì—ì„œ ì‹¤í–‰
- âœ… Cursor ì™„ì „ ì¬ì‹œì‘
- âœ… í„°ë¯¸ë„ì€ ì„œë²„ ì‹¤í–‰ ì¤‘ì— ê³„ì† ìœ ì§€

#### 3ë‹¨ê³„: í…ŒìŠ¤íŠ¸

**API í…ŒìŠ¤íŠ¸ (ì„ íƒì‚¬í•­):**
```bash
# Tools ëª©ë¡ í™•ì¸
curl http://localhost:3000/tools

# Tool ì‹¤í–‰ í…ŒìŠ¤íŠ¸
curl -X POST http://localhost:3000/execute \
  -H "Content-Type: application/json" \
  -d '{"tool": "greet", "arguments": {"name": "ê¹€ì² ìˆ˜"}}'
```

**Cursor ì±„íŒ…ì—ì„œ:**
```
"ì•ˆë…•í•˜ì„¸ìš”ë¼ê³  ì¸ì‚¬í•´ì¤˜"
â†’ AIê°€ HTTPë¡œ greet tool í˜¸ì¶œ

"í˜„ì¬ ì‹œê°„ ì•Œë ¤ì¤˜"
â†’ AIê°€ HTTPë¡œ get_current_time tool í˜¸ì¶œ

"10 ë”í•˜ê¸° 20 ê³„ì‚°í•´ì¤˜"
â†’ AIê°€ HTTPë¡œ calculate tool í˜¸ì¶œ
```

### ğŸ”„ ê°œë°œ ì›Œí¬í”Œë¡œìš°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ í„°ë¯¸ë„: HTTP ì„œë²„ ì‹¤í–‰       â”‚
â”‚ $ npm start                 â”‚
â”‚ Server running on :3000     â”‚
â”‚ (ì´ ì°½ì€ ê³„ì† ìœ ì§€)          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ HTTP í†µì‹ 
               â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Cursor                      â”‚
â”‚ - URL: http://localhost:3000â”‚
â”‚ - ì±„íŒ…ì—ì„œ Tool ì‚¬ìš©         â”‚
â”‚ - HTTP POSTë¡œ Tool ì‹¤í–‰      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â”‚ ì½”ë“œ ìˆ˜ì • ì‹œ
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Ctrl+C (ì„œë²„ ì¤‘ì§€)        â”‚
â”‚ 2. ì½”ë“œ ìˆ˜ì •                 â”‚
â”‚ 3. npm start (ì¬ì‹œì‘)        â”‚
â”‚ 4. Cursor ìë™ ì¬ì—°ê²°        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ğŸ’¡ ìë™ ì¬ì‹œì‘ (ê°œë°œ í¸ì˜):**
```bash
npm run dev
# nodemonì´ íŒŒì¼ ë³€ê²½ ê°ì§€í•˜ì—¬ ìë™ ì¬ì‹œì‘
```

## ğŸ› ï¸ ì œê³µë˜ëŠ” Tools

1. **greet** - ì‚¬ìš©ìì—ê²Œ ì¸ì‚¬
2. **calculate** - ê³„ì‚°ê¸° (+, -, *, /)
3. **get_current_time** - í˜„ì¬ ì‹œê°„
4. **read_file** - íŒŒì¼ ì½ê¸°
5. **write_file** - íŒŒì¼ ì“°ê¸°
6. **list_directory** - ë””ë ‰í† ë¦¬ íƒìƒ‰

## ğŸ’¬ Cursorì—ì„œ ì‚¬ìš© ì˜ˆì‹œ

```
ì‚¬ìš©ì: "ì•ˆë…•í•˜ì„¸ìš”ë¼ê³  ì¸ì‚¬í•´ì¤˜"
AI: [greet tool í˜¸ì¶œ]

ì‚¬ìš©ì: "10 ê³±í•˜ê¸° 5ë¥¼ ê³„ì‚°í•´ì¤˜"
AI: [calculate tool í˜¸ì¶œ]

ì‚¬ìš©ì: "í˜„ì¬ ì‹œê°„ì€?"
AI: [get_current_time tool í˜¸ì¶œ]

ì‚¬ìš©ì: "í˜„ì¬ ë””ë ‰í† ë¦¬ì˜ íŒŒì¼ ëª©ë¡ì„ ë³´ì—¬ì¤˜"
AI: [list_directory tool í˜¸ì¶œ]
```

## ğŸ“ íŒŒì¼ êµ¬ì¡°

```
ì˜ˆì œ3_NPM_ì„œë²„ì˜ˆì œ/
â”œâ”€â”€ package.json    # NPM ì„¤ì •
â”œâ”€â”€ server.js       # MCP ì„œë²„ ì½”ë“œ
â””â”€â”€ README.md       # ì´ íŒŒì¼
```

## ğŸ” ë””ë²„ê¹…

ì„œë²„ê°€ ì‹¤í–‰ë˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ë¡œê·¸ê°€ í‘œì‹œë©ë‹ˆë‹¤:

```
============================================================
  Example MCP Server (Node.js)
============================================================
Server: example-mcp-server v1.0.0
Status: Running on stdio
Tools: 6ê°œ ë“±ë¡ë¨
============================================================
```

## âš™ï¸ package.json ì£¼ìš” ì„¤ì •

- `"type": "module"` - ES6 ëª¨ë“ˆ ì‚¬ìš©
- `"bin"` - ì‹¤í–‰ íŒŒì¼ ì„¤ì •
- `"scripts"` - npm ëª…ë ¹ì–´
- `"engines"` - Node.js ë²„ì „ ìš”êµ¬ì‚¬í•­

## ğŸŒ ê´€ë ¨ ìë£Œ

- [MCP TypeScript SDK](https://github.com/modelcontextprotocol/typescript-sdk)
- [MCP ê³µì‹ ë¬¸ì„œ](https://modelcontextprotocol.io/)
- [Node.js ë¬¸ì„œ](https://nodejs.org/docs/)

